# MFC 프로그래밍💻

## DC(Device Context)🌉

- DC란 윈두우 운영체제에서 그래픽 화면을 출력하기 위해 사용되는 인터페이스로, MFC에선 DC 객체를 생성하고, 이를 활용함으로써 화면에 출력이 가능하다.

  - CPaintDC : 클라이언트 영역에 출력할 때(OnPaint에서만 사용)

    - 창의 무효영역 생성(최소화,최대화)시에도 남아있어야 하는 경우에 사용

  - CClientDC : 클라이언트 영역에 출력할 때(OnPaint에서만 사용하지 않음)
    - 창의 무효영역 생성(최소화,최대화)시 남아있지 않아도 된다면 사용하며,<br> `Invalidate(false)`를 통해 지우지 않을 수도 있음
  - CWindowDC : 윈도우 전체 영역에 사용

    - 윈도우면 어디든 출력이 가능한 DC, 주어지는 부분에 따라 원점 위치가 변경되어진다.

      ```cpp
      CWnd * pWnd = GetDesktopWindow();//바탕화면 정보를 불러오는 함수(CWnd 반환형)
      CWindowDC  dc(pWnd);//데스크탑 정보를 통한 Window 객체 생성
      dc.FillSolidRect(CRect(100,100,300,300), RGB(255,255,255));// pos1(100,100) 에서 pos2(300,300)에 해당하는 곳에 사각형을 그림
      ```

  - CMetaFileDC : 메타 파일을 만들어 주는 함수

    - 메타 파일(Metafile): GDI 명령을 저장할 수 있는 파일

    ```cpp
    HENHMETAFIKLE m_hmf;//메타파일의 핸들값을 넣을 변수

    CMetaFileDC dc;//metafile 객체 생성
    dc.CreateEnhanced(0,0,0,0);

    //작업 영역 - metafile 객체  관련 멤버함수 호출
    //dc.Ellipse(point.x-30,point.y-30,point.x+30,point.y+30);
    //작업 영역

    m_hmfCloseEnhanced();

    dc.PlayMetaFile();//metafile 실행
    ```

- DC를 활용한 그리기 함수
  - `GetPixel` : 화면의 특정 위치에 해당하는 점의 색을 얻는다
  - `SetPixel` : 화면의 특정 위치에 원하는 색의 점을 찍으며 원래의 점의 색을 리턴한다.
  - `SetPixelV` : SetPixel과 기능은 동일하지만 SetPixel과 달리 원래의 점의 색을 리턴하지않아 속도가 빠름
